!function(t,r){"use strict";var n=function(){var t=function(t,r,n,o,e,i){for(var f=n.length,a=0;f--;)for(var u=n[f][0],l=n[f][1];u!==l;){var h=o[u][l];i.push(t.eadd(r[u],r[h],e[u][h])),u=h,++a}return a};return t};t.dup_t=n;var o=function(){var t=function(t,r,n,o,e,i,f){var a,u,l,h,s;for(l=[n,0],h=[];;){for(;o[l[0]];){if(0===h.length)return;l=h.pop()}for(n=l[0],u=l[1],a=r[n],o[n]=!0;;)if(s=!0,e[n]=t.eitr(a,function(t,r){return t.free?(i.splice(u,0,n),f.splice(u,0,t),a=r,++u,o[a[0]]||h.push([a[0],u]),t.free=!1,s=!1,n=a[0],!0):void 0},e[n]),s)break}};return t};t.eventour_t=o;var e=function(){var t=function(t,r,n){var o=[];t.vitr(function(e){var i=0;if(t.eitr(e,function(t,r){i+=r!==e}),i%2===1){for(var f=n.vadd(e),a=o.length;a--;)n.eadd(f,o[a],r[e[0]][o[a][1][0]]);o.push(f)}})};return t};t.oddgraph_t=e;var i=function(){var t=function(t,r,n,o){var e,i,f=[];for(t.vitr(function(r){e=r[0],f[e]=o.vadd(r),t.eitr(r,function(t,r,o){i=r[0],e>=i||o<n[e][i]&&(n[e][i]=o)})}),e=0;r>e;++e)for(i=e+1;r>i;++i)n[e][i]<1/0&&o.eadd(f[e],f[i],n[e][i]);return f};return t};t.simplegraph_t=i;var f=function(t,n,o){var e=t?function(t){console.log("DEBUG:",t)}:null;o===r&&(o=!1),n===r&&(n=!0);var i=function(t){if(!t)throw new Error("Assertion failed")},f=function(t,r,n){for(var o=t[r];--n>r;)t[n]<o&&(o=t[n]);return o},a=function(t,r){var n=t[0].length<t[1].length?t[0]:t[1];n.map(function(n,o){r.apply(null,t.map(function(t){return t[o]}))})},u=function(t,u){var l,h,s,p,v,c;if(u===r&&(u=!1),!t.length)return[];var d=t.length,g=0,y=0;for(c=d;c--;)l=t[c][0],h=t[c][1],v=t[c][2],i(l>=0&&h>=0&&l!==h),l>=g&&(g=l+1),h>=g&&(g=h+1),y=Math.max(y,v);p=2*d;for(var b=new Array(p);p--;)b[p]=t[Math.floor(p/2)][p%2];l=g;for(var A=new Array(l);l--;)A[l]=[];for(s=0;d>s;++s)l=t[s][0],h=t[s][1],A[l].push(2*s+1),A[h].push(2*s);l=g;for(var w=new Array(l);l--;)w[l]=-1;l=2*g;for(var M=new Array(l);l--;)M[l]=0;l=2*g;for(var m=new Array(l);l--;)m[l]=-1;l=g;for(var k=new Array(l);l--;)k[l]=l;l=2*g;for(var _=new Array(l);l--;)_[l]=-1;l=2*g;for(var G=new Array(l);l--;)G[l]=null;c=2*g;var j=new Array(c);for(l=0;g>l;++l)j[l]=l;for(;c>l;++l)j[l]=-1;l=2*g;for(var x=new Array(l);l--;)x[l]=null;l=2*g;for(var B=new Array(l);l--;)B[l]=-1;l=2*g;for(var P=new Array(l);l--;)P[l]=null;l=g;for(var E=new Array(l);l--;)E[l]=g+l;c=2*g;var S=new Array(c);for(l=0;g>l;++l)S[l]=y;for(;c>l;++l)S[l]=0;l=d;for(var I=new Array(l);l--;)I[l]=!1;var O,R,U,T,q,D,H,L,z,C,F,J,K,N=[],Q=function(r){var n=t[r][0],o=t[r][1],e=t[r][2];return S[n]+S[o]-2*e},V=function(t,r){if(g>t){if(r(t))return!0}else{var n,o,e;for(n=G[t].length,o=0;n>o;++o)if(e=G[t][o],g>e){if(r(e))return!0}else if(V(e,r))return!0}},W=function(t,r,n){e&&e("assignLabel("+t+","+r+","+n+")");var o=k[t];if(i(0===M[t]&&0===M[o]),M[t]=M[o]=r,m[t]=m[o]=n,B[t]=B[o]=-1,1===r)V(o,function(t){N.push(t)}),e&&e("PUSH "+N);else if(2===r){var f=j[o];i(w[f]>=0),W(b[w[f]],1,1^w[f])}},X=function(t,r){e&&e("scanBlossom("+t+","+r+")");for(var n,o,f,a=[],u=-1;-1!==t||-1!==r;){if(n=k[t],4&M[n]){u=j[n];break}i(1===M[n]),a.push(n),M[n]=5,i(m[n]===w[j[n]]),-1===m[n]?t=-1:(t=b[m[n]],n=k[t],i(2===M[n]),i(m[n]>=0),t=b[m[n]]),-1!==r&&(o=t,t=r,r=o)}for(f=a.length;f--;)n=a[f],M[n]=1;return u},Y=function(r,n){var o,f,a,u,l,h,s,p,v,c,d,y,I=t[n][0],O=t[n][1],R=t[n][2],U=k[r],T=k[I],q=k[O],D=E.pop();e&&e("addBlossom("+r+","+n+") (v="+I+" w="+O+") -> "+D),j[D]=r,_[D]=-1,_[U]=D;for(var H=G[D]=[],L=x[D]=[];T!==U;)_[T]=D,H.push(T),L.push(m[T]),i(2===M[T]||1===M[T]&&m[T]===w[j[T]]),i(m[T]>=0),I=b[m[T]],T=k[I];for(H.push(U),H.reverse(),L.reverse(),L.push(2*n);q!==U;)_[q]=D,H.push(q),L.push(1^m[q]),i(2===M[q]||1===M[q]&&m[q]===w[j[q]]),i(m[q]>=0),O=b[m[q]],q=k[O];for(i(1===M[U]),M[D]=1,m[D]=m[U],S[D]=0,V(D,function(t){2===M[k[t]]&&N.push(t),k[t]=D}),s=2*g,y=new Array(s);s--;)y[s]=-1;for(a=H.length,s=0;a>s;++s){for(T=H[s],null===P[T]?(d=[],V(T,function(t){for(f=A[t].length,u=new Array(f);f--;){var r=A[t][f];u[f]=Math.floor(r/2)}d.push(u)})):d=[P[T]],l=0,p=d.length;p>l;++l)for(c=d[l],h=0,v=c.length;v>h;++h){n=c[h],o=t[n][0],f=t[n][1],R=t[n][2],k[f]===D&&(u=o,o=f,f=u);var z=k[f];z!==D&&1===M[z]&&(-1===y[z]||Q(n)<Q(y[z]))&&(y[z]=n)}P[T]=null,B[T]=-1}for(P[D]=[],a=y.length,o=0;a>o;++o)n=y[o],-1!==n&&P[D].push(n);if(a=P[D].length,a>0)for(B[D]=P[D][0],o=1;a>o;++o)n=P[D][o],Q(n)<Q(B[D])&&(B[D]=n);else B[D]=-1;e&&e("blossomchilds["+D+"]="+G[D])},Z=function(t,r){e&&e("expandBlossom("+t+","+r+") "+G[t]);var n,o,f,a,u,l,h,s,p,v;for(n=0;n<G[t].length;++n)f=G[t][n],_[f]=-1,g>f?k[f]=f:r&&0===S[f]?Z(f,r):V(f,function(t){k[t]=f});if(!r&&2===M[t]){for(i(m[t]>=0),u=k[b[1^m[t]]],o=G[t].indexOf(u),1&o?(l=1,h=0,p=G[t].length,v=0):(l=-1,h=1,p=0,v=G[t].length),a=m[t];o!==p;)M[b[1^a]]=0,M[b[x[t][o-h]^h^1]]=0,W(b[1^a],2,a),I[Math.floor(x[t][o-h]/2)]=!0,o+=l,a=x[t][o-h]^h,I[Math.floor(a/2)]=!0,o+=l;for(s=G[t][0],M[b[1^a]]=M[s]=2,m[b[1^a]]=m[s]=a,B[s]=-1,o=v+l;G[t][o]!==u;)s=G[t][o],1!==M[s]?(V(s,function(t){return 0!==M[t]?(i(2===M[t]),i(k[t]===s),M[t]=0,M[b[w[j[s]]]]=0,W(t,2,m[t]),!0):void 0}),o+=l):o+=l}M[t]=m[t]=-1,G[t]=x[t]=null,j[t]=-1,P[t]=null,B[t]=-1,E.push(t)},$=function(t,r){for(var n=t.splice(0,r),o=0;r>o;++o)t.push(n[o])},tr=function(t,r){e&&e("augmentBlossom("+t+","+r+")");var n,o,f,a,u,l,h,s;for(f=r;_[f]!==t;)f=_[f];for(f>=g&&tr(f,r),n=o=G[t].indexOf(f),h=G[t].length,1&n?(a=1,u=0,l=h):(a=-1,u=1,l=0);o!==l;)o+=a,f=G[t][o],s=x[t][o-u]^u,f>=g&&tr(f,b[s]),o+=a,f=G[t][Math.abs(o%h)],f>=g&&tr(f,b[1^s]),w[b[s]]=1^s,w[b[1^s]]=s,e&&e("PAIR "+b[s]+" "+b[1^s]+" (k="+Math.floor(s/2)+")");$(G[t],n),$(x[t],n),j[t]=j[G[t][0]],i(j[t]===r)},rr=function(r){{var n,o,f,a,u=t[r][0],l=t[r][1];t[r][2]}e&&e("augmentMatching("+r+") (v="+u+" w="+l+")"),e&&e("PAIR "+u+" "+l+" (k="+r+")"),[[u,2*r+1],[l,2*r]].forEach(function(t){for(var r=t[0],u=t[1];;){if(n=k[r],i(1===M[n]),i(m[n]===w[j[n]]),n>=g&&tr(n,r),w[r]=u,-1===m[n])break;o=b[m[n]],f=k[o],i(2===M[f]),i(m[f]>=0),r=b[m[f]],a=b[1^m[f]],i(j[f]===o),f>=g&&tr(f,a),w[a]=m[f],u=1^m[f],e&&e("PAIR "+r+" "+o+" (k="+Math.floor(u/2)+")")}})},nr=function(){var r,n,o,e,l,h,s,p,v,c,y;for(v=u?Math.max(0,-f(S,0,g)):0,i(f(S,0,g)+v>=0),i(f(S,g,2*g)>=0),s=0;d>s;++s){for(r=t[s][0],n=t[s][1],o=t[s][2],p=S[r]+S[n]-2*o,c=[r],y=[n];-1!==_[c[c.length-1]];)c.push(_[c[c.length-1]]);for(;-1!==_[y[y.length-1]];)y.push(_[y[y.length-1]]);c.reverse(),y.reverse(),a([c,y],function(t,r){return t!==r?!0:void(p+=2*S[t])}),i(p>=0),(Math.floor(w[r]/2)===s||Math.floor(w[n]/2)===s)&&(i(Math.floor(w[r]/2)===s&&Math.floor(w[n]/2)===s),i(0===p))}for(e=0;g>e;++e)i(w[e]>=0||S[e]+v===0);for(l=g;2*g>l;++l)if(j[l]>=0&&S[l]>0)for(i(x[l].length%2===1),r=1;r<x[l].length;r+=2)h=x[l][r],i(w[b[h]]===h^1),i(w[b[1^h]]===h)},or=function(){for(var t=0;g>t;++t)if(0===M[k[t]]){for(var r=null,n=-1,o=0;o<A[t].length;++o){var f=A[t][o],a=Math.floor(f/2),u=b[f];if(1===M[k[u]]){var l=Q(a);(-1===n||r>l)&&(n=a,r=l)}}!e||-1===B[t]&&-1===n||-1!==B[t]&&r===Q(B[t])||e("v="+t+" bk="+n+" bd="+r+" bestedge="+B[t]+" slack="+Q(B[t])),i(-1===n&&-1===B[t]||-1!==B[t]&&r===Q(B[t]))}},er=function(){for(var r=-1,n=null,o=-1,f=null,a=0;2*g>a;++a)if(-1===_[a]&&1===M[a]&&(V(a,function(t){for(var o=0;o<A[t].length;++o){var e=A[t][o],i=Math.floor(e/2),f=b[e];if(k[f]!==a&&1===M[k[f]]){var u=Q(i);(-1===r||n>u)&&(r=i,n=u)}}}),-1!==B[a])){{var u=t[B[a]][0],l=t[B[a]][1];t[B[a]][2]}i(k[u]===a||k[l]===a),i(k[u]!==a||k[l]!==a),i(1===M[k[u]]&&1===M[k[l]]),(-1===o||Q(B[a])<f)&&(o=B[a],f=Q(B[a]))}e&&n!==f&&e("bk="+r+" tbk="+o+" bd="+n+" tbd="+f),i(n===f)};for(U=0;g>U;++U){for(e&&e("STAGE "+U),l=2*g;l--;)M[l]=0;for(l=2*g;l--;)B[l]=-1;for(l=g;l--;)P[g+l]=null;for(l=d;l--;)I[l]=!1;for(N=[],T=0;g>T;++T)-1===w[T]&&0===M[k[T]]&&W(T,1,-1);for(q=0;;){for(e&&e("SUBSTAGE");N.length&&!q;)for(T=N.pop(),e&&e("POP v="+T),i(1===M[k[T]]),c=A[T].length,l=0;c>l;++l)if(p=A[T][l],s=Math.floor(p/2),v=b[p],k[T]!==k[v])if(I[s]||(D=Q(s),0>=D&&(I[s]=!0)),I[s])if(0===M[k[v]])W(v,2,1^p);else if(1===M[k[v]]){if(H=X(T,v),!(H>=0)){rr(s),q=1;break}Y(H,s)}else 0===M[v]&&(i(2===M[k[v]]),M[v]=2,m[v]=1^p);else 1===M[k[v]]?(O=k[T],(-1===B[O]||D<Q(B[O]))&&(B[O]=s)):0===M[v]&&(-1===B[v]||D<Q(B[v]))&&(B[v]=s);if(q)break;for(L=-1,z=C=F=null,o&&(or(),er()),u||(L=1,z=f(S,0,g)),T=0;g>T;++T)0===M[k[T]]&&-1!==B[T]&&(R=Q(B[T]),(-1===L||z>R)&&(z=R,L=2,C=B[T]));for(O=0;2*g>O;++O)-1===_[O]&&1===M[O]&&-1!==B[O]&&(D=Q(B[O]),R=D/2,(-1===L||z>R)&&(z=R,L=3,C=B[O]));for(O=g;2*g>O;++O)j[O]>=0&&-1===_[O]&&2===M[O]&&(-1===L||S[O]<z)&&(z=S[O],L=4,F=O);for(-1===L&&(i(u),L=1,z=Math.max(0,f(S,0,g))),T=0;g>T;++T)1===M[k[T]]?S[T]-=z:2===M[k[T]]&&(S[T]+=z);for(O=g;2*g>O;++O)j[O]>=0&&-1===_[O]&&(1===M[O]?S[O]+=z:2===M[O]&&(S[O]-=z));if(e&&e("delta"+L+"="+z),1===L)break;2===L?(I[C]=!0,l=t[C][0],h=t[C][1],J=t[C][2],0===M[k[l]]&&(K=l,l=h,h=K),i(1===M[k[l]]),N.push(l)):3===L?(I[C]=!0,l=t[C][0],h=t[C][1],J=t[C][2],i(1===M[k[l]]),N.push(l)):4===L&&Z(F,!1)}if(!q)break;for(O=g;2*g>O;++O)-1===_[O]&&j[O]>=0&&1===M[O]&&0===S[O]&&Z(O,!0)}for(n&&nr(),T=0;g>T;++T)w[T]>=0&&(w[T]=b[w[T]]);for(T=0;g>T;++T)i(-1===w[T]||w[w[T]]===T);return w};return u};t.wblossom_n3_t=f;var a=function(t,r,n,o,e,i,f,a){var u;for(e[n[0]]=0,f[n[0]]=a.push(n);a.length;)u=a.pop(),i[u[0]]=!0,t.eitr(u,function(t,r,n){var l,h;i[r[0]]||(l=e[u[0]]+n,h=l<e[r[0]],h&&(e[r[0]]=l,o[r[0]]=u[0]),null===f[r[0]]?f[r[0]]=a.push(r):h&&a.decreasekey(f[r[0]],r))})};t.dijkstra=a;var u=function(){var t=function(t,r){var n,o,e;for(e=0;t>e;++e)for(n=0;t>n;++n)for(o=0;t>o;++o)r[n][e]+r[e][o]<r[n][o]&&(r[n][o]=r[n][e]+r[e][o])};return t};t.floyd_t=u;var l=function(){var t=function(r,n,o,e,i){r.eitr([e],function(f,a,u){a=a[0],o[a][i]===u+o[e][i]&&-1===n[a][i]&&(n[a][i]=e,t(r,n,o,a,i))})},r=function(r,n,o,e){for(var i=0;n>i;++i)e[i][i]=0,t(r,o,e,i,i)};return r};t.sptreedfs_t=l;var h=function(){var t=function(t,r,n){t.vitr(function(r){t.eitr(r,function(t,o,e){n[r[0]][o[0]]=e})})};return t};t.amat_t=h;var s=function(){var t=function(t,r){t.vitr(function(t){t.copy=r.vadd(t)}),t.aeitr(function(t,n,o,e){r.eadd(n.copy,o.copy,e)})};return t};t.copy_t=s;var p=function(t,r,n){t.vitr(function(t){n[t[0]]=r.vadd(t[0])}),t.vitr(function(o){t.eitr(o,function(t,e,i){o[0]<=e[0]&&r.eadd(n[o[0]],n[e[0]],i)})})};t.d2s=p;var v=function(t,r,n){var o=r,e=new Array(o);if(1===t)for(;o--;)e[o]=n;else for(;o--;)e[o]=v(t-1,r,n);return e};t.sqmat=v;var c=function(){var t=function(){this.pt=[],this.ad=[]};return t.prototype.vadd=function(t){var r=this.pt.length,n=[r,t];this.ad.push(n);for(var o=r;o--;)this.pt[o].push([null,null,-1]);for(this.pt.push(new Array(r+1)),o=r;o--;)this.pt[r][o]=this.pt[o][r];return this.pt[r][r]=[null,null,-1],n},t.prototype.vdel=function(t){var r=t[0];this.ad.splice(r,1),this.pt.splice(r,1);for(var n=this.pt.length,o=n;o--;)this.pt[o].splice(r,1);for(;n>r;++r)--this.ad[r][0]},t.prototype.eadd=function(t,r,n){var o=t[0],e=r[0];return this.pt[o][e][0]=t,this.pt[o][e][1]=r,this.pt[o][e][2]=n,this.pt[o][e]},t.prototype.edel=function(t){var r=t[0][0],n=t[1][0];this.pt[r][n][0]=null,this.pt[r][n][1]=null,this.pt[r][n][2]=-1},t.prototype.vitr=function(t){for(var r=0,n=this.ad.length;n>r&&!t.call(this,this.ad[r]);++r);},t.prototype.eitr=function(t,r){for(var n=t[0],o=0,e=this.pt[n].length;e>o&&(null===this.pt[n][o][0]||!r.call(this,this.pt[n][o],this.ad[o],this.pt[n][o][2]));++o);},t.prototype.aeitr=function(t,n){var o,e,i=this.ad.length;for(n===r&&(n=0),e=n%i,o=(n-e)/i;i>o;e=++o)for(;i>e;++e)if(null!==this.pt[o][e][0]&&t.call(this,this.pt[o][e],this.ad[o],this.ad[e],this.pt[o][e][2]))return o*i+e+1+(e+1===i)*(o+1);return i*i},t.prototype.aeend=function(){return this.ad.length*this.ad.length},t};t.dense_graph_t=c;var d=function(){var t=function(){this.obj=Array.prototype.slice.call(arguments)};return t.prototype.vadd=function(t){for(var r=0,n=this.obj.length,o=new Array(n);n>r;++r)o[r]=this.obj[r].vadd(t),o[r].pt=o;return o.pt=o,o},t.prototype.eadd=function(t,r,n){for(var o=0,e=this.obj.length,i=new Array(e);e>o;++o)i[o]=this.obj[o].eadd(t.pt[o],r.pt[o],n),i[o].pt=i;return i.pt=i,i},t.prototype.vdel=function(t){for(var r=0,n=this.obj.length;n>r;++r)this.obj[r].vdel(t.pt[r])},t.prototype.edel=function(t){for(var r=0,n=this.obj.length;n>r;++r)this.obj[r].edel(t.pt[r])},t};t.fuse_t=d;var g=function(){var t=function(t,n){this.G=t,this.ad=[],this.attr=n!==r?n:0};return t.prototype.vadd=function(){var t=this.ad.length;return this.ad.push(this.G.vadd(t)),this.ad[t]},t.prototype.vdel=function(t){this.G.vdel(t);var r=this.attr,n=t[r];this.ad.splice(n,1);for(var o=this.ad.length;o>n;++n)--this.ad[n][r]},t.prototype.eadd=function(t,r,n){return this.G.eadd(t,r,n)},t.prototype.edel=function(t){this.G.edel(t)},t.prototype.vitr=function(t){return this.G.vitr(t)},t.prototype.eitr=function(t,r,n){return this.G.eitr(t,r,n)},t.prototype.aeitr=function(t,r){return this.G.aeitr(t,r)},t.prototype.aeend=function(){return this.G.aeend()},t};t.index_t=g;var y=function(){var t=function(){this.beg=[null,null,null],this.end=[null,this.beg,null],this.beg[2]=this.end,this.ebeg=[null,null,-1,null,null],this.eend=[null,null,-1,this.ebeg,null],this.ebeg[4]=this.eend};return t.prototype.vadd=function(t){return this.end[1]=[t,this.end[1],this.end,[null,-1,null,null]],this.end[1][1][2]=this.end[1],this.end[1]},t.prototype.vdel=function(t){this.eitr(t,function(t){this.edel(t)}),t[1][2]=t[2],t[2][1]=t[1]},t.prototype.eadd=function(t,r,n){return t[3][3]=[r,n,t[3],t[3][3],null],null!==t[3][3][3]&&(t[3][3][3][2]=t[3][3]),r!==t&&(r[3][3]=[t,n,r[3],r[3][3],null],null!==r[3][3][3]&&(r[3][3][3][2]=r[3][3])),this.eend[3]=[t,r,n,this.eend[3],this.eend,t[3][3],r[3][3]],this.eend[3][3][4]=this.eend[3],t[3][3][4]=r[3][3][4]=this.eend[3],this.eend[3]},t.prototype.edel=function(t){t[5][2][3]=t[5][3],null!==t[5][3]&&(t[5][3][2]=t[5][2]),t[6]!==t[5]&&(t[6][2][3]=t[6][3],null!==t[6][3]&&(t[6][3][2]=t[6][2])),t[3][4]=t[4],t[4][3]=t[3]},t.prototype.vitr=function(t){for(var r=this.beg[2];r!==this.end&&!t.call(this,r);)r=r[2]},t.prototype.eitr=function(t,n,o){for(o===r&&(o=t[3][3]);null!==o;){if(n.call(this,o[4],o[0],o[1]))return o[3];o=o[3]}return o},t.prototype.aeitr=function(t,n){for(n===r&&(n=this.ebeg[4]);n!==this.eend;){if(t.call(this,n,n[0],n[1],n[2]))return n[4];n=n[4]}return n},t.prototype.aeend=function(){return this.eend},t};t.sparse_graph_t=y}("undefined"==typeof exports?this.gn={}:exports);
//# sourceMappingURL=js/dist//gn.js.map